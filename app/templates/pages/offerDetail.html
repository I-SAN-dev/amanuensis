<div class="row detail" data-ng-controller="OfferDetailCtrl as offer">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 col-sm-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <h1><span data-in-place-edit
                          data-api-id="offer.offer.id"
                          data-api-name="'offer'"
                          data-ipe-key="'name'"
                          data-ipe-value="offer.offer.name"
                          data-ipe-name="'offers.name'|translate"
                          data-ipe-deletable="false"
                        ></span><small><span data-in-place-edit
                                             data-ipe-key="'refnumber'"
                                             data-ipe-value="offer.offer.refnumber"
                                             data-ipe-deletable="false"
                                             data-api-id="offer.offer.id"
                                             data-api-name="'offer'"
                                             data-ipe-name="'offers.refnumber'|translate"></span></small></h1>
                <p>!!State!!: {{offer.offer.state|amaStates:'offer'}}</p>
                <p><a data-ui-sref="app.projects({id:{{offer.offer.project.id}}})">{{offer.offer.project.name}}</a> - {{offer.offer.date |date:offer.dateFormat}}</p>
                <p data-in-place-edit
                   data-api-id="offer.offer.id"
                   data-api-name="'offer'"
                   data-ipe-key="'description'"
                   data-ipe-value="offer.offer.description"
                   data-ipe-name="'offers.description'|translate"
                   data-ipe-type="'textarea'"></p>

                <p><a data-ng-href="api/?action=protectedpdf&path={{offer.offer.path}}" target="_blank">!! Link to file !!</a></p>
                <p><button class="btn btn-success" data-ng-click="offer.generatePDF()">!! Generate PDF !!</button></p>
                <p><button class="btn btn-info" data-ng-click="offer.generatePDF(true)">!! Generate PDF Preview !!</button></p>

                <h2>{{'offers.items'|translate}}</h2>
                <ul class="list-group">
                    <li class="list-group-item" data-ng-repeat="item in offer.offer.items">{{item.name}}</li>
                    <li class="list-group-item" data-ui-sref="app.itemCreation({for: 'offer', forId: {{offer.offer.id}}, referrer:'app.offerDetail', referrerParams: {id:{{offer.offer.id}}}})">{{'offers.addItem'|translate}}</li>
                </ul>
            </div>
        </div>
    </div>
</div>